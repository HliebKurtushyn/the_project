{% extends 'base.html' %}

{% block title %}<title> Product - {{ product.name }}</title>{% endblock %}

{% block content %}
    <h1>{{ product.name }}</h1>
    <!-- ВАЖЛИВО: Коли brand і category не є дефолтним значенням, а класом, то ОБОВ'ЯЗКОВО звертатися
       через product.brand.name і аналогічно з category. Потрібно буде виправити -->
    <h4>{{ product.brand }}</h4>
    <h3>{{ product.description }}</h3>
    <p>Size: {{ product.size }}</p>

    {% if product.discount %}
        <p>Discount: {{ product.discount }}%</p>
        <p>Ends: {{ product.discount_end_date }}</p>
    {% else %}
        <p>No current discounts.</p>
    {% endif %}

    <p>Price: ${{ product.price }}</p>
    <p>Available Stock: {{ product.stock }}</p>
    <p>{{ product.category }}</p>
    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width:300px;height:500px;">


    <form action="{% url 'cart:add_to_cart' product.id %}" method="post">
        {% csrf_token %}
        <label for="id_quantity">Quantity</label>
        <input type="number" name="quantity" id="id_quantity" value="1" min="1" required>
        <input type="hidden" name="next" value="{{ request.path }}">
        <button type="submit">Add to cart</button>
    </form>

    <form action="{% url 'cart:cart_detail' %}" method="post">
        {% csrf_token %}
        <button type="submit">View cart</button>
    </form>
{% endblock %}